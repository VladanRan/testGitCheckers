language: objective-c
osx_image: xcode11
before_install:
  - env
  - locale
  - xcpretty --version
  - xcodebuild -version
  - xcodebuild -showsdks
  - brew tap oclint/formulae
  - brew install oclint
script:
  - set -o pipefail
  - xcodebuild clean build -workspace OCLintExampleApp.xcworkspace -scheme OCLintExampleApp -sdk iphonesimulator -configuration Debug | xcpretty -c 
  - xcodebuild | tee xcodebuild.log
  - oclint-xcodebuild
  - oclint-json-compilation-database | sed 's/\(.*\.\m\{1,2\}:[0-9]*:[0-9]*:\)/\1 warning:/'